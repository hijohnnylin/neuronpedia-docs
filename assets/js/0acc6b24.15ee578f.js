"use strict";(self.webpackChunkneuronpedia_docs=self.webpackChunkneuronpedia_docs||[]).push([[634],{8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var r=t(6540);const s={},o=r.createContext(s);function a(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(o.Provider,{value:n},e.children)}},9198:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"steering","title":"Steering Using SAE Features","description":"Neuronpedia supports steering the output of models by increasing or decreasing the strength of SAE features.","source":"@site/docs/steering.md","sourceDirName":".","slug":"/steering","permalink":"/steering","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"SAE Features","permalink":"/features"},"next":{"title":"Embed Features (iframe)","permalink":"/embed-iframe"}}');var s=t(4848),o=t(8453);const a={sidebar_position:2},i="Steering Using SAE Features",d={},p=[];function u(e){const n={a:"a",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"steering-using-sae-features",children:"Steering Using SAE Features"})}),"\n",(0,s.jsx)(n.p,{children:"Neuronpedia supports steering the output of models by increasing or decreasing the strength of SAE features."}),"\n",(0,s.jsx)(n.p,{children:'You can think of this as Anthropic\'s "Golden Gate Claude" demonstration, except that you can use any feature, not just features about the Golden Gate Bridge.'}),"\n",(0,s.jsxs)(n.p,{children:["Currently, ",(0,s.jsx)(n.code,{children:"Gemma-2B"}),", ",(0,s.jsx)(n.code,{children:"Gemma-2B-IT"})," and ",(0,s.jsx)(n.code,{children:"GPT2-Small"})," are supported, and we're adding more support soon:\n",(0,s.jsx)(n.a,{href:"https://www.neuronpedia.org/steer",children:(0,s.jsx)(n.code,{children:"https://www.neuronpedia.org/steer"})})]}),"\n",(0,s.jsxs)(n.p,{children:["The API is documented at our ",(0,s.jsx)(n.a,{href:"https://neuronpedia.org/api-doc",children:"API Docs"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"There is an hourly rate limit of 100 steers per user."}),"\n",(0,s.jsx)(n.p,{children:"Python Example Code"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'import json\nimport requests\n\n# prompt and model\nPROMPT = "The most iconic structure on Earth is"\nMODEL_ID = "gemma-2b"\n\n# feature about San Francisco\nFEATURE = {"modelId": "gemma-2b", "layer": "6-res-jb", "index": 10200, "strength": 5}\n\n# other settings\nTEMPERATURE = 0.2\nN_TOKENS = 16\nFREQ_PENALTY = 1.0\nSEED = 16\nSTRENGTH_MULTIPLIER = 4\n\n# make the request\nurl = "https://www.neuronpedia.org/api/steer"\ndata = {\n    "prompt": PROMPT,\n    "modelId": MODEL_ID,\n    "features": [FEATURE],\n    "temperature": TEMPERATURE,\n    "n_tokens": N_TOKENS,\n    "freq_penalty": FREQ_PENALTY,\n    "seed": SEED,\n    "strength_multiplier": STRENGTH_MULTIPLIER,\n}\nheaders = {"Content-Type": "application/json"}\n\n# send request\nresponse = requests.post(url, json=data, headers=headers)\njson_response = response.json()\nformatted_response = json.dumps(json_response, indent=4)\nprint(formatted_response)\n'})})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);